# Основы управления в Vim и Neovim

## Режимы в Vim
Vim работает в нескольких режимах, каждый из которых имеет свои особенности:

- **Normal mode (Режим по умолчанию)** — для перемещения по тексту, выполнения команд.
- **Insert mode (Режим вставки)** — для ввода текста.
- **Visual mode (Визуальный режим)** — для выделения текста.
- **Command-line mode (Режим командной строки)** — для ввода команд, таких как сохранение, выход и т.д.

### Переключение между режимами:
- **Normal mode → Insert mode**: Нажать `i`, `I`, `a`, `A`, `o`, `O` и т.д.
- **Insert mode → Normal mode**: Нажать `Esc`.
- **Normal mode → Visual mode**: Нажать `v` для выделения символов, `V` для выделения строк.
- **Normal mode → Command-line mode**: Нажать `:`.

## Основные команды

### Навигация:
- `h`, `j`, `k`, `l` — перемещение по символам (влево, вниз, вверх, вправо).
- `w` — перемещение на начало следующего слова.
- `b` — перемещение на начало предыдущего слова.
- `0` — перемещение в начало строки.
- `$` — перемещение в конец строки.
- `gg` — перемещение в начало файла.
- `G` — перемещение в конец файла.
- `Ctrl + f` — прокрутка страницы вниз.
- `Ctrl + b` — прокрутка страницы вверх.

### Редактирование:
- `x` — удалить символ.
- `dw` — удалить слово.
- `dd` — удалить строку.
- `d$` — удалить от курсора до конца строки.
- `yy` — копировать строку.
- `p` — вставить после курсора.
- `P` — вставить перед курсором.
- `u` — отменить последнее действие.
- `Ctrl + r` — повторить отмененное действие.

### Работа с файлами:
- `:w` — сохранить файл.
- `:q` — выйти из Vim.
- `:wq` — сохранить файл и выйти.
- `:q!` — выйти без сохранения изменений.
- `:e <filename>` — открыть файл.

### Поиск:
- `/pattern` — найти слово "pattern" в файле.
- `n` — найти следующее вхождение.
- `N` — найти предыдущее вхождение.

### Другие полезные команды:
- `:set number` — отображение номеров строк.
- `:set relativenumber` — отображение относительных номеров строк.
- `:set expandtab` — использовать пробелы вместо табуляции.
- `:set tabstop=4` — установить размер табуляции (по умолчанию 8).

## Копирование и вставка

В Vim нет прямой функции "копировать" и "вставить", как в других текстовых редакторах, но с помощью режима **Visual mode** и буферов обмена можно легко копировать и вставлять код:

### Копирование (выделение):
1. Перейдите в **Normal mode** (если вы не в нем, нажмите `Esc`).
2. Переместите курсор в начало текста, который хотите скопировать.
3. Нажмите `v` для выбора текста по символам или `V` для выделения целых строк.
4. Используйте движение курсора (например, `w`, `j`, `k`, `l`), чтобы выделить нужную часть текста.
5. После того как текст выделен, нажмите `y` для его копирования (запись в буфер).

### Вставка:
1. Перейдите в **Normal mode**.
2. Переместите курсор в место, куда хотите вставить текст.
3. Нажмите `p` для вставки после курсора или `P` для вставки перед курсором.

### Использование системного буфера обмена:
Если у вас настроен Vim с поддержкой системного буфера обмена (с опцией `+clipboard`), вы можете использовать команду для копирования в буфер обмена:

- `"+y` — копировать в системный буфер обмена (например, после выделения текста).
- `"+p` — вставить из системного буфера обмена.

Чтобы проверить, поддерживает ли ваш Vim буфер обмена, используйте команду `vim --version` и посмотрите на строку `+clipboard`. Если стоит `-clipboard`, то ваш Vim не поддерживает системный буфер обмена, и вам нужно будет перекомпилировать Vim с этой опцией или установить другой редактор.

## Настройка Neovim

Neovim — это форк Vim, который ориентирован на улучшение производительности, поддержку плагинов и удобную настройку. Вот как можно настроить Neovim и использовать плагины:

### Установка Neovim:
1. Скачайте и установите Neovim с официального сайта: [https://neovim.io](https://neovim.io).

2. Убедитесь, что Neovim установлен правильно, введя в терминале:
   ```bash
   nvim --version
   ```

### Установка менеджера плагинов:
Для Neovim рекомендуется использовать менеджер плагинов, например, **Packer.nvim**.

1. Установите **Packer.nvim**:
   В терминале выполните:
   ```bash
   git clone --depth 1 https://github.com/wbthomason/packer.nvim \
     ~/.local/share/nvim/site/pack/packer/start/packer.nvim
   ```

2. Создайте файл конфигурации `init.lua` для Neovim:
   ```bash
   mkdir -p ~/.config/nvim
   touch ~/.config/nvim/init.lua
   ```

### Пример конфигурации с плагинами:
В файл `init.lua` добавьте следующую конфигурацию для установки популярных плагинов:

```lua
-- Настройка Packer
require('packer').startup(function()
  -- Основные плагины
  use 'wbthomason/packer.nvim' -- менеджер плагинов

  -- Плагины для автодополнения
  use 'neovim/nvim-lspconfig'  -- для настройки LSP
  use 'hrsh7th/nvim-cmp'       -- автодополнение
  use 'hrsh7th/cmp-nvim-lsp'   -- автодополнение для LSP
  use 'hrsh7th/cmp-buffer'     -- автодополнение для буфера
  use 'hrsh7th/cmp-path'       -- автодополнение для путей

  -- Плагины для работы с Git
  use 'tpope/vim-fugitive'     -- Git интеграция

  -- Плагины для работы с флагами и синтаксисом
  use 'nvim-treesitter/nvim-treesitter'  -- поддержка синтаксиса
  use 'nvim-treesitter/nvim-treesitter-textobjects' -- текстовые объекты

  -- Плагин для статуса
  use 'hoob3rt/lualine.nvim'  -- строка состояния

  -- Тема оформления
  use 'gruvbox-community/gruvbox' -- тема Gruvbox
end)
```

После того как конфигурация записана, откройте Neovim и выполните команду для установки плагинов:
```bash
:PackerSync
```

### Пример конфигурации `.vimrc` для Vim (который работает и в Neovim):

```vim
syntax enable
set number
set relativenumber
set tabstop=4
set shiftwidth=4
set expandtab
```

### Рекомендуемые плагины:

1. **nvim-lspconfig** — для настройки Language Server Protocol (LSP) и автодополнения.
2. **nvim-treesitter** — для улучшенной подсветки синтаксиса и анализа кода.
3. **nvim-cmp** — автодополнение с множеством источников (LSP, буфер, файлы и т.д.).
4. **vim-fugitive** — интеграция с Git.
5. **lualine.nvim** — красивый и настраиваемый статус-бар.
6. **telescope.nvim** — мощный плагин для поиска файлов и текста.

## Заключение:
Neovim предоставляет гораздо больше возможностей для кастомизации, чем Vim. Использование плагинов позволяет значительно расширить функционал редактора. Начните с базовых плагинов и постепенно добавляйте те, которые подходят для вашего рабочего процесса.

